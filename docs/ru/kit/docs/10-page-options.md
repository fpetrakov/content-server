---
title: Параметры страницы
---

По умолчанию SvelteKit сначала отрисовывает любой компонент на сервере и отправляет его клиенту в формате HTML. Затем он снова отрисует компонент в браузере, чтобы сделать его интерактивным в процессе, который называется **гидратация**. Поэтому необходимо следить, чтобы компоненты могли работать как на сервере, так и в браузере. В конце SvelteKit инициализирует клиентский [**роутер**](#marshruty), который берет на себя последующие переходы между страниц.

Каждый из этих шагов можно контролировать как во всём приложении сразу, так и отдельно для каждой страницы. Обратите внимание, что все настройки, которые указываются для конкретных страниц, помещаются в блок `script` с атрибутом [`context="module"`](https://ru.svelte.dev/docs#script_context_module) и применяются только к страницам, _но не_ к [макетам](#makety).

В случае конфликта глобальных настроек и настроек отдельной страницы, последние будут иметь приоритет. 

### router
В SvelteKit есть [клиентский роутер](#terminy-marshrutizacziya), который отслеживает переходы (клик по ссылке или по кнопкам истории браузера) и обновляет содержимое страницы, при этом не происходит перезагрузки страницы, как при обычной навигации в браузере.

В некоторых случаях может потребоваться отключить [клиентский роутер](#terminy-marshrutizacziya) [параметром `browser.router`](#konfiguracziya-browser) в конфигурации приложения или для отдельной страницы, экспортировав `router`:

```html
<script context="module">
	export const router = false;
</script>
```

Это отключит роутер для всех переходов с текущей страницы, даже если он уже используется в приложении.

### hydrate

По умолчанию SvelteKit [гидратирует](#terminy-hydration) полученный с сервера HTML, чтобы получить интерактивную страницу. Некоторым страницам совершенно не нужен JavaScript – например, различного рода посты в блоге или страницы 'О сайте'. В таких случаях можно отключить гидратацию при загрузке приложения глобальным [`параметром browser.hydrate`](#konfiguracziya-browser) в конфигурации или для конкретной страницы, экспортировав константу `hydrate`:

```html
<script context="module">
	export const hydrate = false;
</script>
```

> Если и `hydrate` и `router` будут оба равны `false`, SvelteKit вообще не добавит на страницу никакого JavaScript кода. Если [рендеринг на стороне сервера](#huki-handle) отключен в `handle`, `hydrate` должен быть `true`, иначе содержимое не будет отображаться.

### prerender

Иногда некоторые страницы приложения могут быть представлены в виде простого HTML-файла, созданного во время сборки. Эти страницы могут быть [предварительно отрисованы](#terminy-predvaritelnaya-otrisovka) выбранным [адаптером](#adaptery).

Предварительная отрисовка происходит автоматически для любой страницы с аннотацией `prerender`:

```html
<script context="module">
	export const prerender = true;
</script>
```

Кроме того, вы можете установить [`confit.kit.prerender.default`](#konfiguracziya-prerender) в `true` и предварительно отрисовать все, кроме страниц, которые явно помечены как _not_ prerenderable:

```html
<script context="module">
	export const prerender = false;
</script>
```

> Если все ваше приложение подходит для предварительного рендеринга, вы можете использовать [`adapter-static`](https://github.com/sveltejs/kit/tree/master/packages/adapter-static), который выведет файлы, подходящие для использования с любым статическим веб-сервером.

Отрисовка начнется с корня приложения и будут сгенерированы HTML-файлы для всех найденных страниц, подходящих для пререндера. Каждая страница сканируется на предмет элементов `<a>`, которые указывают на другие страницы, которые тоже могут быть отрисованы - поэтому нет необходимости явно указывать какие именно страницы нужно обработать. При необходимости, список страниц, которые должны быть предварительно отрисованы, можно задать в параметре `entries` в разделе конфигурации [`prerender`](#konfiguracziya-prerender).

#### Когда не делать пререндер

Основное правило таково: для того, чтобы страница могла быть предварительно отрисована, любые два пользователя, попадающие на одну и ту же страницу приложения, должны получать с сервера одно и то же содержимое.

> Не все страницы подходят для пререндеринга. Любое содержимое, которое отрисовано таким образом, видно всем пользователям. Конечно, можно получать персональные данные в `onMount` на такой странице, но это может ухудшить пользовательский опыт, поскольку придется дожидаться получения данных, наблюдая индикатор загрузки.

Обратите внимание, что предварительную отрисовка всё ещё можно сделать для приложения с динамическими маршрутами, как в нашем примере `src/routes/blog/[slug].svelte`. Адаптер adapter-static будет обрабатывать запросы к серверу внутри функций `load`, поэтому данные, поступающие из `src/routes/blog/[slug].json.js` тоже будут сохранены. 

Во время предварительной отрисовки нет доступа к объекту [`url.searchParams`](#loading-input-url). Если его необходимо использовать на странице, убедитесь, что обращение к нему происходит только в браузере (например, в функции `onMount`).

#### Конфликты маршрутов

Поскольку пререндер создаёт отражение всех маршрутов в виде файлового дерева, то невозможно иметь два эндпоинта, где возникает ситуация, что директория и файл в одном и том же месте будут иметь одинаковое имя. Например, `src/routes/foo/index.js` и `src/routes/foo/bar.js` будут пытаться создать файлы `foo` и `foo/bar`, что приведёт к ошибке.

По этой причине, рекомендуется всегда добавлять расширение к имени файла — например, `src/routes/foo/index.json.js` и `src/routes/foo/bar.json.js` будут сохранены как `foo.json` и `foo/bar.json`, которые не будут мешать друг другу.

Для маршрутов страниц этой проблемы не возникает, поскольку создаётся файл `foo/index.html`, а не `foo`.